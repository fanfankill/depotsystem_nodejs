(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da1dcb84"],{"0769":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-skeleton",{attrs:{loading:t.boxloading,animated:""}},[a("template",{slot:"template"},[a("div",[a("el-skeleton-item",{staticClass:"topshowdiv",staticStyle:{width:"200px",height:"40px"},attrs:{variant:"div"}}),a("el-skeleton-item",{staticClass:"topshowdiv",staticStyle:{"margin-left":"-5px",width:"55px",height:"40px"},attrs:{variant:"div"}}),a("el-skeleton-item",{staticClass:"topshowdiv",staticStyle:{float:"right",width:"100px",height:"40px"},attrs:{variant:"div"}})],1),a("div",[a("el-skeleton-item",{staticClass:"topshowdiv",staticStyle:{width:"100%",height:"400px","margin-top":"20px"},attrs:{variant:"div"}})],1)]),[a("addpark",{attrs:{changebox:t.isaddpark},on:{changebox:t.parkchange}}),a("addposition",{attrs:{changebox:t.addpositonbox},on:{changebox:t.positionchange}}),a("el-dialog",{attrs:{title:"修改车位信息",visible:t.editpark},on:{"update:visible":function(e){t.editpark=e}}},[a("table",{attrs:{id:"edittab"}},[a("tr",[a("td",[a("el-tag",[t._v("车位编号")])],1),a("td",[a("el-input",{attrs:{placeholder:"车位编号",disabled:!0},model:{value:t.editinputid,callback:function(e){t.editinputid=e},expression:"editinputid"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("停车区域")])],1),a("td",[a("el-select",{attrs:{placeholder:"请选择停车区域"},model:{value:t.toaddposition,callback:function(e){t.toaddposition=e},expression:"toaddposition"}},t._l(t.positions,(function(e){return a("el-option",{key:e.descration,attrs:{label:e.position,value:e.position}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.position))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("￥"+t._s(e.fare))])])})),1)],1)]),a("tr",[a("td",[a("el-tag",[t._v("是否空闲")])],1),a("td",[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否"},model:{value:t.editiscar,callback:function(e){t.editiscar=e},expression:"editiscar"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("固定车位")])],1),a("td",[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否"},model:{value:t.editisfixed,callback:function(e){t.editisfixed=e},expression:"editisfixed"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("车主姓名")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入车主姓名"},model:{value:t.editinputperson,callback:function(e){t.editinputperson=e},expression:"editinputperson"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("到期时间")])],1),a("td",[a("el-date-picker",{attrs:{type:"date",disabled:!0,placeholder:"选择日期"},model:{value:t.edittime,callback:function(e){t.edittime=e},expression:"edittime"}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editpark=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editparking}},[t._v("修 改")])],1)]),a("div",{staticClass:"topbtn"},[a("div",[a("el-input",{attrs:{placeholder:"请输入车位编号查询"},model:{value:t.parkid,callback:function(e){t.parkid=e},expression:"parkid"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.searchId}},[t._v("搜索")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isaddpark=!0}}},[t._v("新增车位")])],1),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"CarportNumber",label:"车位编号",width:"140"}}),a("el-table-column",{attrs:{prop:"position",label:"车位区域"}}),a("el-table-column",{attrs:{prop:"CarCost",label:"小时计费"}}),a("el-table-column",{attrs:{prop:"HaveCar",label:"是否空闲",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.HaveCar?a("el-tag",{attrs:{type:"danger"}},[t._v("否")]):a("el-tag",{attrs:{type:"success"}},[t._v("是")])]}}])}),a("el-table-column",{attrs:{prop:"FixCar",label:"是否固定车位",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.FixCar?a("el-tag",{attrs:{type:"danger"}},[t._v("否")]):a("el-tag",{attrs:{type:"success"}},[t._v("是")])]}}])}),a("el-table-column",{attrs:{prop:"CarNumber",label:"车牌编号"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.CarNumber?a("span",[t._v(t._s(e.row.CarNumber))]):a("span",{staticStyle:{color:"grey"}},[t._v("暂无车辆")])]}}])}),a("el-table-column",{attrs:{prop:"CarpersonName",label:"车主姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.CarpersonName?a("span",[t._v(t._s(e.row.CarpersonName))]):a("span",{staticStyle:{color:"grey"}},[t._v("暂无车主")])]}}])}),a("el-table-column",{attrs:{prop:"DueDate",label:"到期时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[null==e.row.DueDate||"1970"==e.row.DueDate.substr(0,4)?a("span",[t._v("无")]):a("span",[t._v(t._s(e.row.DueDate.substring(0,10)))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.toeditparking(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.deleteparking(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticClass:"pagediliver"},[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next",total:t.parktotal,"page-size":t.parkpage},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]],2)],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"新增停车区域",visible:t.addpositonbox,width:"40%"},on:{"update:visible":function(e){t.addpositonbox=e}}},[a("table",{attrs:{id:"addpositontable"}},[a("tr",[a("td",{staticStyle:{width:"100px"}},[a("el-tag",[t._v("区域名称")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.positionname,callback:function(e){t.positionname=e},expression:"positionname"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("区域价格")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入小时价格"},model:{value:t.positionfare,callback:function(e){t.positionfare=e},expression:"positionfare"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("区域描述")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入描述内容"},model:{value:t.positiondecscraption,callback:function(e){t.positiondecscraption=e},expression:"positiondecscraption"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("每月收费")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入每月价格"},model:{value:t.positionmonthfare,callback:function(e){t.positionmonthfare=e},expression:"positionmonthfare"}})],1)]),a("tr",[a("td",[a("el-tag",[t._v("永久价格")])],1),a("td",[a("el-input",{attrs:{placeholder:"请输入永久价格"},model:{value:t.positionfixedfare,callback:function(e){t.positionfixedfare=e},expression:"positionfixedfare"}})],1)])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addpositonbox=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addposition}},[t._v("确 定")])],1)])],1)},n=[],l={props:{changebox:Boolean},watch:{changebox:function(t){this.addpositonbox=t},addpositonbox:function(){this.$emit("changebox",this.addpositonbox)}},data:function(){return{addpositonbox:!1,positionname:"",positionfare:"",positiondecscraption:"",positionmonthfare:"",positionfixedfare:""}},methods:{addposition:function(){var t=this;this.positionname&&this.positionfare&&this.positionmonthfare&&this.positionfixedfare?this.$axios.post("/addposition",{position:this.positionname,fare:this.positionfare,decration:this.positiondecscraption,monthfare:this.positionmonthfare,fixedfare:this.positionfixedfare}).then((function(e){console.log(e),1==e.data.code?(t.$message({message:e.data.message,type:"success"}),t.addpositonbox=!1):t.$message({message:e.data.message,type:"warning"})})).catch((function(e){console.log(e),t.addpositonbox=!1})):this.$message({message:"信息填写完整",type:"warning"})}}},r=l,d=(a("f768"),a("2877")),p=Object(d["a"])(r,s,n,!1,null,null,null),c=p.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:"新增车位",visible:t.isaddpark},on:{"update:visible":function(e){t.isaddpark=e}}},[a("el-select",{attrs:{placeholder:"请选择停车区域"},model:{value:t.toaddposition,callback:function(e){t.toaddposition=e},expression:"toaddposition"}},t._l(t.positions,(function(e){return a("el-option",{key:e.descration,attrs:{label:e.position,value:e.position}},[a("span",{staticStyle:{float:"left"}},[t._v(t._s(e.position))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("￥"+t._s(e.fare))])])})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isaddpark=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.toaddpark}},[t._v("新 增")])],1)],1)],1)},g=[],f={props:{changebox:Boolean},watch:{changebox:function(t){console.log(t),this.isaddpark=t},isaddpark:function(){console.log(this.isaddpark),this.$emit("changebox",this.isaddpark)}},created:function(){this.getallpositons()},data:function(){return{isaddpark:!1,positions:[],toaddposition:""}},methods:{getallpositons:function(){var t=this;this.$axios("/getposition").then((function(e){console.log(e),t.positions=e.data.lists})).catch((function(t){console.log(t)}))},toaddpark:function(){var t=this;this.$axios.post("/addparking",{position:this.toaddposition}).then((function(e){console.log(e),t.$message({message:e.data.message,type:"success"}),t.isaddpark=!1})).catch((function(t){console.log(t)}))}}},h=f,v=Object(d["a"])(h,u,g,!1,null,null,null),b=v.exports,m={created:function(){var t=this;setTimeout((function(){t.boxloading=!1,t.getallparkings()}),1e3)},components:{addposition:c,addpark:b},data:function(){return{boxloading:!0,tableData:[],isaddpark:!1,editpark:!1,parktotal:0,parkpage:5,currentpage:1,pagesize:5,toaddposition:"",addpositonbox:!1,parkid:"",positions:[],editinputid:"",editposiion:"",editinputperson:"",edittime:"",editiscar:!0,editisfixed:!1,loading:!0}},methods:{handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){this.currentpage=t,this.getallparkings()},getallparkings:function(){var t=this;this.loading=!0,this.$axios.get("/getallparking?currentpage="+this.currentpage+"&pagesize="+this.pagesize).then((function(e){console.log(e),t.tableData=e.data.result2,t.parktotal=e.data.count,t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},searchId:function(){var t=this;console.log(this.parkid),""==this.parkid?this.getallparkings():this.$axios.post("/searchId",{CarportNumber:this.parkid}).then((function(e){console.log(e),0==e.data.code?t.$message({message:e.data.message,type:"warning"}):(t.$message({message:e.data.message,type:"success"}),t.tableData=e.data.result)})).catch((function(t){console.log(t)}))},toeditparking:function(t){this.editpark=!0,this.editinputid=t.CarportNumber,this.toaddposition=t.position,this.editinputperson=t.CarpersonName,this.edittime=t.DueDate,this.editiscar=parseInt(t.HaveCar),this.editisfixed=parseInt(t.FixCar)},editparking:function(){var t=this;this.$axios.post("/editparking",{HaveCar:this.editiscar,position:this.toaddposition,FixCar:this.editisfixed,CarpersonName:this.editinputperson,CarportNumber:this.editinputid}).then((function(e){t.$message({message:e.data.message,type:"success"}),t.getallparkings(),console.log(e)})).catch((function(t){console.log(t)})),this.editpark=!1,this.getallparkings()},deleteparking:function(t){var e=this;this.$axios.post("/deleteparking",{CarportNumber:t.CarportNumber}).then((function(t){e.$message({message:t.data.message,type:"success"}),e.getallparkings(),console.log(t)})).catch((function(t){console.log(t)}))},parkchange:function(t){console.log(t),this.isaddpark=t,this.getallparkings()},positionchange:function(t){this.addpositonbox=t}}},k=m,x=(a("1af7"),Object(d["a"])(k,i,o,!1,null,null,null));e["default"]=x.exports},"1af7":function(t,e,a){"use strict";var i=a("3b0f"),o=a.n(i);o.a},"3b0f":function(t,e,a){},"9e7d":function(t,e,a){},f768:function(t,e,a){"use strict";var i=a("9e7d"),o=a.n(i);o.a}}]);
//# sourceMappingURL=chunk-da1dcb84.708fc112.js.map